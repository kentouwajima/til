# さくらVPS ハンズオン内容まとめ（2026/01/29）

## 概要
本ハンズオンでは、会社で利用している さくらVPS（共有サーバ） 上にて、  
自分専用のサブドメインを割り当て、既存のミドルウェア環境を利用して  
HTTPS（SSL）対応のWebサイトを公開できる状態を作成した。

---

## サーバ環境の前提

- さくらVPS 1台を複数人で共有
- 以下ミドルウェアは事前にインストール済み
  - Apache
  - PHP
  - MySQL
- SSL関連
  - Let's Encrypt はすでにインストール済み
- 自分用に以下が用意されている
  - ユーザーアカウント
  - sudo 権限（管理者権限）
  - サブドメイン  
    uwajima-test.sky-link.in
  - Web公開用ディレクトリ  
    /var/www/uwajima

---

## 今回のハンズオンの目的

1. 自分専用のサブドメインをサーバに割り当てる
2. Apache にドメインとディレクトリの対応付けを行う
3. Let's Encrypt を利用し SSL（https）でアクセスできるようにする

---

## 実施した作業内容

### 1. サブドメインの割り当て確認

uwajima-test.sky-link.in が VPS の IP アドレスを向くように設定されている状態を確認した。

uwajima-test.sky-link.in  
↓  
さくらVPSのIPアドレス

---

### 2. Apache の設定（VirtualHost）

Apache に対して、  
どのドメインでアクセスされたら、どのディレクトリを表示するかを設定した。

- Apache の設定ファイルは /etc 配下に存在
- sudo 権限を使用して設定ファイルを編集

設定の考え方：

VirtualHost（80番ポート）にて  
ServerName に uwajima-test.sky-link.in  
DocumentRoot に /var/www/uwajima  
を指定し、ドメインとディレクトリを紐付けた。

結果として、

uwajima-test.sky-link.in にアクセス  
↓  
/var/www/uwajima の中身が表示される

という構成になった。

---

### 3. Web公開用ディレクトリの確認

以下のディレクトリが事前に作成されていた。

/var/www/uwajima

このディレクトリ配下に HTML や PHP ファイルを配置することで、  
Webサイトとしてブラウザから表示される。

---

### 4. SSL（Let's Encrypt）の設定

Let's Encrypt はすでにインストール済みのため、  
uwajima-test.sky-link.in に対して SSL 設定を実施した。

これにより、

https://uwajima-test.sky-link.in

でアクセス可能となり、通信が暗号化された。

---

## sudo を使用した理由

- Apache や SSL の設定ファイルは /etc 配下に存在する
- /etc は OS・ミドルウェアの重要な設定領域である
- 一般ユーザーでは編集できないため、sudo を使用して管理者権限で作業を行った

---

## 今回のハンズオンで行っていないこと

- Apache / PHP / MySQL のインストール
- OS 構築
- サーバ・ネットワーク設計

すでに構築済みの環境に対して、  
自分専用の Web サイト設定を追加する作業のみを実施した。

---

## まとめ

本日のハンズオンでは、

- 共有サーバ上に
- 自分専用のサブドメイン（uwajima-test.sky-link.in）を割り当て
- /var/www/uwajima をドキュメントルートとして設定し
- Let's Encrypt により SSL（https）を有効化した

結果として、  
実務でよくある「既存サーバに新しい Web サイトを 1 つ追加する作業」を体験した。

---

## 補足

- Web コンテンツは /var/www/uwajima 配下に配置する
- Apache 設定変更後は、設定反映や再起動が必要になる場合がある
